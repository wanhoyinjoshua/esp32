<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Balloon Breathing Monitor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
  <button id="connectBtn">Connect to Sensor</button>
  <button id="toggleSettingsBtn">Show Settings</button>
  <button id="toggleStatsBtn">Hide Stats</button>
  <button id="resetBtn">Reset</button>

  <div id="statusBar">Status: Not connected</div>
  
  <div id="breathProgressContainer">
    <div id="breathProgressBar"></div>
    <div id="breathProgressText">0 / 6</div>
  </div>

  <img id="celebrationImage" style="display:none; position:absolute; top:25%; left:50%; transform:translateX(-50%); max-width:300px; z-index:999;" />

  


  

  <div id="statsPanel">
    <div class="stat pressure" id="pressure">Pressure: -- mmHg</div>
    <div class="stat" id="timeInRange">Time in range: 0.00 s</div>
    <div class="stat" id="leakTime">Leak time: 0.00 s</div>
    <div class="stat" id="goodBreaths">Good breaths: 0</div>
    <div class="stat" id="leakedBreaths">Leaked breaths: 0</div>
    <div class="stat" id="crossedZero">Crossed zero: false</div>
    <div class="stat" id="leaked">Leaked: false</div>
    <button id="exportBtn">Export CSV</button>
  </div>

  <div id="settingsPanel">
    <label for="targetBreathsInput">Target Breaths (0â€“15):</label>
    <input type="number" id="targetBreathsInput" min="0" max="15"><br><br>

    <label for="compensationSelect">Compensation:</label>
    <select id="compensationSelect">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
    </select><br><br>

    <label for="balloonColorPicker">Balloon Color:</label>
    <input type="color" id="balloonColorPicker"><br><br>

    <label for="balloonImageUpload">Balloon Image:</label>
    <input type="file" id="balloonImageUpload" accept="image/*"><br><br>
  </div>

  <canvas id="canvas"></canvas>
  <canvas id="graphCanvas" style="position:absolute; top:0; left:0; pointer-events:none;"></canvas>

  <audio id="burstSound://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg"></audio>

  <script src="index.js"></script>
</body>
</html>
